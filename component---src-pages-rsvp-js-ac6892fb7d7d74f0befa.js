(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{184:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),s=t(185),l=t(187),o=(t(191),t(192)),c=t.n(o),i=(t(188),t(194)),m=t.n(i),d=t(7),u=t.n(d),_=function(e){return r.a.createElement("div",{className:"form__footer"},e.renderFooter())},g=function(e){return r.a.createElement("div",{className:"form__body"},r.a.createElement("div",{className:"form__controls"},r.a.createElement("div",{className:"control__textbox-group"},r.a.createElement("label",{className:"control__textbox-label",htmlFor:"fullName"},"Guest Name"),r.a.createElement("input",{className:"control__textbox-input",type:"text",id:"fullName",name:"fullName",onChange:e.handleChange}),e.isInvalidName&&r.a.createElement("p",{className:"is-error"},"Guest name is required.")),r.a.createElement("fieldset",{className:"control__checkbox-fieldset"},r.a.createElement("legend",{className:"control__checkbox-legend"},"Which events will this guest be attending?"),r.a.createElement("div",{className:"control__checkbox-group"},r.a.createElement("input",{className:"control__checkbox-input",type:"checkbox",id:"attend-1",name:"attendance",value:"attendingCeremony",onChange:e.handleChange}),r.a.createElement("div",{className:"control__checkbox-description"},r.a.createElement("label",{className:"control__checkbox-label",htmlFor:"attend-1"},"Ceremony & Brunch Reception"),r.a.createElement("p",{className:"control__checkbox-caption"},"11am, Queens Botanical Garden"))),r.a.createElement("div",{className:"control__checkbox-group"},r.a.createElement("input",{className:"control__checkbox-input",type:"checkbox",id:"attend-2",name:"attendance",value:"attendingBanquet",onChange:e.handleChange}),r.a.createElement("div",{className:"control__checkbox-description"},r.a.createElement("label",{className:"control__checkbox-label",htmlFor:"attend-2"},"Banquet Dinner"),r.a.createElement("p",{className:"control__checkbox-caption"},"6pm, Royal Queen")))),r.a.createElement("div",{className:"control__textbox-group"},r.a.createElement("label",{className:"control__textbox-label",htmlFor:"dietaryRestrictions"},"Any dietary restrictions?"),r.a.createElement("label",{className:"control__textbox-caption",htmlFor:"dietaryRestrictions"},"For example: vegetarian, seafood allergy, etc."),r.a.createElement("input",{className:"control__textbox-input",type:"text",id:"dietaryRestrictions",name:"dietaryRestrictions",onChange:e.handleChange}))),r.a.createElement(_,{renderFooter:e.renderFooter}))},h=function(e){return r.a.createElement("div",{className:"guest"},r.a.createElement("p",{className:"guest__title"},e.personInfo.fullName),r.a.createElement("p",{className:"guest__detail"},e.personInfo.dietaryRestrictions),r.a.createElement("div",{className:"guest__attendance"},r.a.createElement("span",{className:"guest__choice-icon"},e.personInfo.attendingCeremony?"Yes ":"No "),r.a.createElement("span",{className:"guest__choice"},e.personInfo.attendingCeremony?"Attending ":"Not attending "),r.a.createElement("span",{className:"guest__event"},"Ceremony & Brunch Reception")),r.a.createElement("div",{className:"guest__attendance"},r.a.createElement("span",{className:"guest__choice-icon"},e.personInfo.attendingBanquet?"Yes ":"No "),r.a.createElement("span",{className:"guest__choice"},e.personInfo.attendingBanquet?"Attending ":"Not attending "),r.a.createElement("span",{className:"guest__event"},"Banquet Dinner")))},p=function(){return r.a.createElement("svg",{width:"50px",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid"},r.a.createElement("circle",{cx:"50",cy:"50",fill:"none","ng-attr-stroke":"{{config.color}}","ng-attr-stroke-width":"{{config.width}}","ng-attr-r":"{{config.radius}}","ng-attr-stroke-dasharray":"{{config.dasharray}}",stroke:"#a6c7d9",strokeWidth:"13",r:"33",strokeDasharray:"164.93361431346415 56.97787143782138",transform:"rotate(227.904 50 50)"},r.a.createElement("animateTransform",{attributeName:"transform",type:"rotate",calcMode:"linear",values:"0 50 50;360 50 50",keyTimes:"0;1",dur:"1s",begin:"0s",repeatCount:"indefinite"})))},v=function(e){return r.a.createElement("div",{className:"form__body"},r.a.createElement("div",{className:"form__guest-summary"},e.guestInfo.map(function(e){return r.a.createElement(h,{key:e.id,personInfo:e})}),r.a.createElement("button",{className:"form-btn form-btn--white",type:"button",onClick:e.handleAddGuest},"Add another guest"),e.isSubmissionError&&r.a.createElement("p",{className:"is-error"},"There was an error. Please try submitting again.")),r.a.createElement(_,{renderFooter:e.renderFooter}))},N=function(e){return r.a.createElement("div",{className:"form__body"},r.a.createElement("div",{className:"form__result"},r.a.createElement("span",{className:"result__emoji"},"ðŸŽ‰"),r.a.createElement("p",{className:"result__title"},"We've received your RSVP for"),r.a.createElement("ul",{className:"result__guest-list"},e.guestInfo.map(function(e){return r.a.createElement("li",{className:"result__guest-item",key:e.id},e.fullName)}))),r.a.createElement(_,{renderFooter:e.renderFooter}))},b=(t(195),t(196));t(199).polyfill(),t(201);var E=function(e){function a(){for(var a,t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];return(a=e.call.apply(e,[this].concat(n))||this).state={fullName:"",attendingCeremony:!1,attendingBanquet:!1,dietaryRestrictions:"",guestList:[],display:"showForm",isInvalidName:!1,isSubmissionError:!1,isLoading:!1},a.buildRequestBody=function(e){var a=e.guestList,t=a[0];return{fullName:t.fullName,attendingCeremony:t.attendingCeremony,attendingBanquet:t.attendingBanquet,dietaryRestrictions:t.dietaryRestrictions,guests:a.slice(1)}},a.buildGuest=function(e){var a=e.fullName,t=e.attendingCeremony,n=e.attendingBanquet,r=e.dietaryRestrictions;return""===r&&(r="No dietary restrictions"),{fullName:a,attendingCeremony:t,attendingBanquet:n,dietaryRestrictions:r,id:b.v1()}},a.handleSubmit=function(){var e=m()(c.a.mark(function e(t){var n,r,s;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),console.log(t.target),a.setState({isLoading:!0}),n=a.buildRequestBody(a.state),e.prev=4,e.next=7,fetch("https://shptockpog.execute-api.us-east-1.amazonaws.com/dev/responses/accept",{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify(n)});case 7:if((r=e.sent).ok){e.next=10;break}throw Error(r.statusText);case 10:return e.next=12,r.json();case 12:s=e.sent,console.log(s),a.setState({isSubmissionError:!1,isLoading:!1,display:"showResult"}),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(4),console.log(e.t0),a.setState({isSubmissionError:!0,isLoading:!1});case 21:case"end":return e.stop()}},e,null,[[4,17]])}));return function(a){return e.apply(this,arguments)}}(),a.handleAddGuest=function(){a.setState({fullName:"",attendingCeremony:!1,attendingBanquet:!1,dietaryRestrictions:"",display:"showForm"})},a.handleNext=function(){var e=""===a.state.fullName.trim();if(a.setState({isInvalidName:e}),!e){var t=a.buildGuest(a.state);a.setState(function(e){return{guestList:[].concat(e.guestList,[t]),display:"showSummary"}})}},a.handleChange=function(e){var t,n="";"checkbox"===e.target.type?(n=e.target.value,a.setState(function(e){var a;return(a={})[n]=!e[n],a})):(n=e.target.name,a.setState(((t={})[n]=e.target.value,t)))},a.isAttending=function(){if(a.state.guestList.length){var e=a.state.guestList[0];return e.attendingBanquet||e.attendingCeremony}},a.renderHeaderSubtitle=function(){var e=a.state.guestList.length,t=a.isAttending();switch(a.state.display){case"showSummary":switch(e){case 1:return"You've added 1 person to your party so far.";default:return"You've added "+e+" people to your party so far."}case"showResult":switch(t){case!0:return"Hurray! Can't wait to see you on the big day!"}default:return"Jan and Olivia's celebration on June 30th, 2019"}},a.renderFooter=function(){switch(a.state.display){case"showForm":return r.a.createElement("button",{className:"form-btn",type:"button",onClick:a.handleNext},"Continue");case"showSummary":switch(a.state.isLoading){case!0:return r.a.createElement(p,null);case!1:return r.a.createElement("button",{className:"form-btn",type:"submit"},"Submit")}case"showResult":return r.a.createElement("a",{className:"result__link",href:"/"},r.a.createElement("button",{className:"form-btn",type:"button"},"Wedding details"))}},a.renderComponents=function(){switch(a.state.display){case"showForm":return r.a.createElement(g,{handleChange:a.handleChange,handleNext:a.handleNext,isInvalidName:a.state.isInvalidName,renderFooter:a.renderFooter});case"showSummary":return r.a.createElement(v,{guestInfo:a.state.guestList,handleAddGuest:a.handleAddGuest,isSubmissionError:a.state.isSubmissionError,renderFooter:a.renderFooter});case"showResult":return r.a.createElement(N,{guestInfo:a.state.guestList,renderFooter:a.renderFooter})}},a}return u()(a,e),a.prototype.render=function(){return r.a.createElement("div",{className:"form-container"},r.a.createElement("div",{className:"form__header"},r.a.createElement("h1",{className:"header__title"},"Rsvp"),r.a.createElement("p",{className:"header__subtitle"},this.renderHeaderSubtitle())),r.a.createElement("form",{onSubmit:this.handleSubmit},this.renderComponents()))},a}(r.a.Component);a.default=function(){return r.a.createElement(s.a,null,r.a.createElement(l.a,null),r.a.createElement("nav",{className:"navbar"},r.a.createElement("ul",{className:"navbar__links"},r.a.createElement("li",null,r.a.createElement("a",{className:"navbar__link",href:"/#a-story"},r.a.createElement("span",{className:"navbar__ordinal"},"01"),r.a.createElement("div",{className:"navbar__divider"}),r.a.createElement("div",{className:"navbar__label"},r.a.createElement("span",{className:"navbar__title"},"How We Got Here"),r.a.createElement("span",{className:"navbar__text"},"A Story")))),r.a.createElement("li",{className:"navbar__link-divider"}),r.a.createElement("li",null,r.a.createElement("a",{className:"navbar__link",href:"/#the-plan"},r.a.createElement("span",{className:"navbar__ordinal"},"02"),r.a.createElement("div",{className:"navbar__divider"}),r.a.createElement("div",{className:"navbar__label"},r.a.createElement("span",{className:"navbar__title"},"What's Going Down"),r.a.createElement("span",{className:"navbar__text"},"The Plan")))),r.a.createElement("li",{className:"navbar__link-divider"}),r.a.createElement("li",null,r.a.createElement("a",{className:"navbar__link navbar__link--active",href:"/rsvp"},r.a.createElement("span",{className:"navbar__ordinal"},"03"),r.a.createElement("div",{className:"navbar__divider"}),r.a.createElement("div",{className:"navbar__label"},r.a.createElement("span",{className:"navbar__title"},"You Coming?"),r.a.createElement("span",{className:"navbar__text"},"RSVP")))),r.a.createElement("li",{className:"navbar__link-divider"}),r.a.createElement("li",null,r.a.createElement("a",{className:"navbar__link",href:"https://www.amazon.com/wedding/share/jan-and-olivia",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("span",{className:"navbar__ordinal"},"04"),r.a.createElement("div",{className:"navbar__divider"}),r.a.createElement("div",{className:"navbar__label"},r.a.createElement("span",{className:"navbar__title"},"A Wishlist of Sorts"),r.a.createElement("span",{className:"navbar__text"},"Registry")))))),r.a.createElement("img",{className:"logo logo--small",src:"/janandolivia_logo.svg",alt:"Jan and Olivia are getting married!"}),r.a.createElement(E,null))}}}]);
//# sourceMappingURL=component---src-pages-rsvp-js-ac6892fb7d7d74f0befa.js.map