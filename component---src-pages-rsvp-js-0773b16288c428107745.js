(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{184:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(185),l=a(187),i=(a(191),a(192)),o=a.n(i),c=(a(188),a(194)),m=a.n(c),u=a(7),d=a.n(u),_=function(e){return s.a.createElement("div",{className:"form__footer"},e.renderFooter())},N=function(e){return s.a.createElement("div",{className:"form__body"},s.a.createElement("div",{className:"form__controls"},s.a.createElement("div",{className:"control__textbox-group"},s.a.createElement("label",{className:"control__textbox-label",htmlFor:"fullName"},0===e.guestNum?"Guest Name":"Guest "+e.guestNum+"'s name"),s.a.createElement("input",{className:"control__textbox-input",type:"text",id:"fullName",name:"fullName",value:e.guestNameValue,onChange:e.handleChange}),e.isInvalidName&&s.a.createElement("p",{className:"is-error"},"Guest name is required.")),s.a.createElement("fieldset",{className:"control__checkbox-fieldset"},s.a.createElement("legend",{className:"control__checkbox-legend"},"Which events will this guest be attending?"),s.a.createElement("div",{className:"control__checkbox-group"},s.a.createElement("input",{className:"control__checkbox-input",type:"checkbox",id:"attend-1",name:"attendance",value:"attendingCeremony",onChange:e.handleChange}),s.a.createElement("div",{className:"control__checkbox-description"},s.a.createElement("label",{className:"control__checkbox-label",htmlFor:"attend-1"},"Ceremony & Brunch Reception"),s.a.createElement("p",{className:"control__checkbox-caption"},"11am, Queens Botanical Garden"))),s.a.createElement("div",{className:"control__checkbox-group"},s.a.createElement("input",{className:"control__checkbox-input",type:"checkbox",id:"attend-2",name:"attendance",value:"attendingBanquet",onChange:e.handleChange}),s.a.createElement("div",{className:"control__checkbox-description"},s.a.createElement("label",{className:"control__checkbox-label",htmlFor:"attend-2"},"Banquet Dinner"),s.a.createElement("p",{className:"control__checkbox-caption"},"6pm, Royal Queen")))),s.a.createElement("div",{className:"control__textbox-group"},s.a.createElement("label",{className:"control__textbox-label",htmlFor:"dietaryRestrictions"},"Any dietary restrictions?"),s.a.createElement("label",{className:"control__textbox-caption",htmlFor:"dietaryRestrictions"},"For example: vegetarian, seafood allergy, etc."),s.a.createElement("input",{className:"control__textbox-input",type:"text",id:"dietaryRestrictions",name:"dietaryRestrictions",onChange:e.handleChange}))),s.a.createElement(_,{renderFooter:e.renderFooter}))},h=function(e){return s.a.createElement("div",{className:"guest"},s.a.createElement("div",{className:"guest__heading"},s.a.createElement("span",{className:"guest__title"},e.personInfo.fullName),s.a.createElement("button",{className:"form-btn form-btn--edit",type:"button",onClick:function(t){return e.handleEdit(t,e.personInfo,e.guestNum)}},"Edit")),s.a.createElement("p",{className:"guest__detail"},e.personInfo.dietaryRestrictions),s.a.createElement("div",{className:"guest__attendance"},s.a.createElement("span",{className:"guest__choice-icon"},e.personInfo.attendingCeremony?"Yes ":"No "),s.a.createElement("span",{className:"guest__choice"},e.personInfo.attendingCeremony?"Attending ":"Not attending "),s.a.createElement("span",{className:"guest__event"},"Ceremony & Brunch Reception")),s.a.createElement("div",{className:"guest__attendance"},s.a.createElement("span",{className:"guest__choice-icon"},e.personInfo.attendingBanquet?"Yes ":"No "),s.a.createElement("span",{className:"guest__choice"},e.personInfo.attendingBanquet?"Attending ":"Not attending "),s.a.createElement("span",{className:"guest__event"},"Banquet Dinner")))},g=function(e){return s.a.createElement("div",{className:"form__body"},s.a.createElement("div",{className:"form__guest-summary"},e.guestInfo.map(function(t,a){return s.a.createElement(h,{key:t.id,personInfo:t,handleEdit:e.handleEdit,guestNum:a+1})}),s.a.createElement("button",{className:"form-btn form-btn--white",type:"button",onClick:e.handleAddGuest},"Add another guest"),e.isSubmissionError&&s.a.createElement("p",{className:"is-error"},"There was an error. Please try submitting again.")),s.a.createElement(_,{renderFooter:e.renderFooter}))},E=function(e){return s.a.createElement("div",{className:"form__body"},s.a.createElement("div",{className:"form__result"},s.a.createElement("span",{className:"result__emoji"},"ðŸŽ‰"),s.a.createElement("p",{className:"result__title"},"We've received your RSVP for"),s.a.createElement("ul",{className:"result__guest-list"},e.guestInfo.map(function(e){return s.a.createElement("li",{className:"result__guest-item",key:e.id},e.fullName)}))),s.a.createElement(_,{renderFooter:e.renderFooter}))},b=(a(195),a(196));a(199).polyfill(),a(201);var p=function(e){function t(){for(var t,a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(t=e.call.apply(e,[this].concat(n))||this).state={fullName:"",attendingCeremony:!1,attendingBanquet:!1,dietaryRestrictions:"",guestList:[],display:"showForm",isInvalidName:!1,isSubmissionError:!1,isLoading:!1,isEdit:!1,editGuestNum:0},t.buildRequestBody=function(e){var t=e.guestList,a=t[0];return{fullName:a.fullName,attendingCeremony:a.attendingCeremony,attendingBanquet:a.attendingBanquet,dietaryRestrictions:a.dietaryRestrictions,guests:t.slice(1)}},t.buildGuest=function(e){var t=e.fullName,a=e.attendingCeremony,n=e.attendingBanquet,s=e.dietaryRestrictions;return""===s&&(s="No dietary restrictions"),{fullName:t,attendingCeremony:a,attendingBanquet:n,dietaryRestrictions:s,id:b.v1()}},t.handleSubmit=function(){var e=m()(o.a.mark(function e(a){var n,s,r;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),t.setState({isLoading:!0}),n=t.buildRequestBody(t.state),e.prev=3,e.next=6,fetch("https://shptockpog.execute-api.us-east-1.amazonaws.com/dev/responses/accept",{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify(n)});case 6:if((s=e.sent).ok){e.next=9;break}throw Error(s.statusText);case 9:return e.next=11,s.json();case 11:r=e.sent,console.log(r),t.setState({isSubmissionError:!1,isLoading:!1,display:"showResult"}),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(3),console.log(e.t0),t.setState({isSubmissionError:!0,isLoading:!1});case 20:case"end":return e.stop()}},e,null,[[3,16]])}));return function(t){return e.apply(this,arguments)}}(),t.handleAddGuest=function(){t.setState({fullName:"",attendingCeremony:!1,attendingBanquet:!1,dietaryRestrictions:"",isEdit:!1,editGuestNum:0,display:"showForm"})},t.handleRemoveGuest=function(){var e=t.state.editGuestNum-1,a=[].concat(t.state.guestList);a.splice(e,1),t.setState({guestList:a,isEdit:!1,editGuestNum:0,display:"showSummary"})},t.handleNext=function(){var e=""===t.state.fullName.trim();switch(t.setState({isInvalidName:e}),e){case!1:var a=t.buildGuest(t.state);switch(t.state.isEdit){case!0:var n=t.state.editGuestNum-1,s=[].concat(t.state.guestList);s.splice(n,1,a),t.setState(function(e){return{guestList:s,isEdit:!1,editGuestNum:0,display:"showSummary"}});break;case!1:t.setState(function(e){return{guestList:[].concat(e.guestList,[a]),isEdit:!1,editGuestNum:0,display:"showSummary"}})}default:return}},t.handleEdit=function(e,a,n){var s=a.fullName;t.setState({fullName:s,attendingCeremony:!1,attendingBanquet:!1,dietaryRestrictions:"",isEdit:!0,editGuestNum:n,display:"showForm"})},t.handleChange=function(e){var a,n="";"checkbox"===e.target.type?(n=e.target.value,t.setState(function(e){var t;return(t={})[n]=!e[n],t})):(n=e.target.name,t.setState(((a={})[n]=e.target.value,a)))},t.isAttending=function(){if(t.state.guestList.length){var e=t.state.guestList[0];return e.attendingBanquet||e.attendingCeremony}},t.renderHeaderSubtitle=function(){var e=t.state.guestList.length,a=t.isAttending(),n=t.state.editGuestNum;switch(t.state.display){case"showSummary":switch(e){case 1:return"You've added 1 person to your party so far.";default:return"You've added "+e+" people to your party so far."}case"showResult":switch(a){case!0:return"Hurray! Can't wait to see you on the big day!"}case"showForm":switch(t.state.isEdit){case!0:return"Guest "+n}default:return"Jan and Olivia's celebration on June 30th, 2019"}},t.renderFooter=function(){var e=1===t.state.editGuestNum;switch(t.state.display){case"showForm":switch(t.state.isEdit){case!0:switch(e){case!1:return s.a.createElement(s.a.Fragment,null,s.a.createElement("button",{className:"form-btn form-btn--white",type:"button",onClick:t.handleRemoveGuest},"Remove this guest"),s.a.createElement("button",{className:"form-btn",type:"button",onClick:t.handleNext},"Continue"))}default:return s.a.createElement("button",{className:"form-btn",type:"button",onClick:t.handleNext},"Continue")}case"showSummary":switch(t.state.isLoading){case!0:return s.a.createElement("button",{className:"form-btn is-loading",type:"button"},"...");case!1:return s.a.createElement("button",{className:"form-btn",type:"submit"},"Submit")}case"showResult":return s.a.createElement("a",{className:"result__link",href:"/"},s.a.createElement("button",{className:"form-btn",type:"button"},"Wedding details"))}},t.renderComponents=function(){switch(t.state.display){case"showForm":return s.a.createElement(N,{handleChange:t.handleChange,handleNext:t.handleNext,guestNameValue:t.state.fullName,guestNum:t.state.editGuestNum,isInvalidName:t.state.isInvalidName,renderFooter:t.renderFooter});case"showSummary":return s.a.createElement(g,{guestInfo:t.state.guestList,handleAddGuest:t.handleAddGuest,handleEdit:t.handleEdit,isSubmissionError:t.state.isSubmissionError,renderFooter:t.renderFooter});case"showResult":return s.a.createElement(E,{guestInfo:t.state.guestList,renderFooter:t.renderFooter})}},t}return d()(t,e),t.prototype.render=function(){return s.a.createElement("div",{className:"form-container"},s.a.createElement("div",{className:"form__header"},s.a.createElement("h1",{className:"header__title"},"Rsvp"),s.a.createElement("p",{className:"header__subtitle"},this.renderHeaderSubtitle())),s.a.createElement("form",{onSubmit:this.handleSubmit},this.renderComponents()))},t}(s.a.Component);t.default=function(){return s.a.createElement(r.a,null,s.a.createElement(l.a,null),s.a.createElement("nav",{className:"navbar"},s.a.createElement("ul",{className:"navbar__links"},s.a.createElement("li",null,s.a.createElement("a",{className:"navbar__link",href:"/#a-story"},s.a.createElement("span",{className:"navbar__ordinal"},"01"),s.a.createElement("div",{className:"navbar__divider"}),s.a.createElement("div",{className:"navbar__label"},s.a.createElement("span",{className:"navbar__title"},"How We Got Here"),s.a.createElement("span",{className:"navbar__text"},"A Story")))),s.a.createElement("li",{className:"navbar__link-divider"}),s.a.createElement("li",null,s.a.createElement("a",{className:"navbar__link",href:"/#the-plan"},s.a.createElement("span",{className:"navbar__ordinal"},"02"),s.a.createElement("div",{className:"navbar__divider"}),s.a.createElement("div",{className:"navbar__label"},s.a.createElement("span",{className:"navbar__title"},"What's Going Down"),s.a.createElement("span",{className:"navbar__text"},"The Plan")))),s.a.createElement("li",{className:"navbar__link-divider"}),s.a.createElement("li",null,s.a.createElement("a",{className:"navbar__link navbar__link--active",href:"/rsvp"},s.a.createElement("span",{className:"navbar__ordinal"},"03"),s.a.createElement("div",{className:"navbar__divider"}),s.a.createElement("div",{className:"navbar__label"},s.a.createElement("span",{className:"navbar__title"},"You Coming?"),s.a.createElement("span",{className:"navbar__text"},"RSVP")))),s.a.createElement("li",{className:"navbar__link-divider"}),s.a.createElement("li",null,s.a.createElement("a",{className:"navbar__link",href:"https://www.amazon.com/wedding/share/jan-and-olivia",target:"_blank",rel:"noopener noreferrer"},s.a.createElement("span",{className:"navbar__ordinal"},"04"),s.a.createElement("div",{className:"navbar__divider"}),s.a.createElement("div",{className:"navbar__label"},s.a.createElement("span",{className:"navbar__title"},"A Wishlist of Sorts"),s.a.createElement("span",{className:"navbar__text"},"Registry")))))),s.a.createElement("img",{className:"logo logo--small",src:"/janandolivia_logo.svg",alt:"Jan and Olivia are getting married!"}),s.a.createElement(p,null))}}}]);
//# sourceMappingURL=component---src-pages-rsvp-js-0773b16288c428107745.js.map